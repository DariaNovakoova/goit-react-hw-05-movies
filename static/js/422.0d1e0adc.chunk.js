"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[422],{148:function(e,n,a){a.d(n,{Hg:function(){return i},au:function(){return s},fh:function(){return c},q5:function(){return u},z1:function(){return o}});var t=a(294).Z.create({baseURL:"https://api.themoviedb.org/3"}),r={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkNGFjNzI1MTA4Mjc2ZDkyM2RlMjQzOTE4NzUwNjJjNSIsInN1YiI6IjY1YjUwMjhhNGYzM2FkMDE3YTBiYTM1MiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.DVikyztACIvDZrPSWL56RBOBtNnjH3jDZKwNSqkZN54"}},i=function(){return t.get("/trending/movie/day?language=en-US&api_key=8a820d540ebb6da7f77b0e9a899200aa",r)},c=function(e){return t.get("/movie/".concat(e,"?language=en-US&api_key=8a820d540ebb6da7f77b0e9a899200aa"),r)},s=function(e){return t.get("/movie/".concat(e,"/credits?language=en-US&api_key=8a820d540ebb6da7f77b0e9a899200aa"),r)},u=function(e){return t.get("/movie/".concat(e,"/reviews?language=en-US&api_key=8a820d540ebb6da7f77b0e9a899200aa"),r)},o=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t.get("/search/movie?query=".concat(e,"&include_adult=false&language=en-US&page=").concat(n,"&api_key=8a820d540ebb6da7f77b0e9a899200aa"),r)}},269:function(e,n,a){a.d(n,{Z:function(){return s}});var t={container:"movies_container__8AMFc",list:"movies_list__qGO0R"},r=a(689),i=a(87),c=a(184),s=function(e){var n=e.items,a=(0,r.TH)(),s=n.map((function(e){var n=e.id,r=e.title;return(0,c.jsx)("li",{className:t.item,children:(0,c.jsx)(i.rU,{className:t.link,to:"/movies/".concat(n),state:{from:a},children:r})},n)}));return(0,c.jsx)("div",{className:t.container,children:(0,c.jsx)("ul",{className:t.list,children:s})})}},422:function(e,n,a){a.r(n),a.d(n,{default:function(){return M}});var t=a(433),r=a(861),i=a(439),c=a(757),s=a.n(c),u="movies-page_loadMoreWrapper__df0+F",o="movies-page_button__EA2jv",l="movies-page_error__Pufbs",f=a(791),h=a(87),m="button_btn__HeAxz",d=a(184),v=function(e){var n=e.onClick,a=e.type,t=void 0===a?"submit":a,r=e.children;return(0,d.jsx)("button",{onClick:n,type:t,className:m,children:r})},p=a(119),_=a(942),b=a(413),g="movies-search_fieldGroup__1EW5T",j="movies-search_inputContainer__JhFbR",N="movies-search_form__Pkz5R",x="movies-search_label__ToYIm",k="movies-search_input__Q4OPi",Z="movies-search_button__5p70E",y="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",S=function(e){var n=e.onSubmit,a=(0,f.useState)({search:""}),t=(0,i.Z)(a,2),r=t[0],c=t[1],s=(0,f.useRef)(null);(0,f.useEffect)((function(){s.current.focus()}),[]);var u=function(){c({search:""})},o=(0,f.useMemo)((function(){return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,n="",a=crypto.getRandomValues(new Uint8Array(e));e--;)n+=y[63&a[e]];return n}()}),[]);return(0,d.jsx)("form",{onSubmit:function(e){e.preventDefault(),n((0,b.Z)({},r)),u()},className:N,children:(0,d.jsxs)("div",{className:g,children:[(0,d.jsx)("label",{htmlFor:o}),(0,d.jsxs)("div",{className:j,children:[(0,d.jsx)("input",{id:o,ref:s,value:r.search,onChange:function(e){var n=e.target,a=n.name,t=n.value;c((0,b.Z)((0,b.Z)({},r),{},(0,_.Z)({},a,t)))},required:!0,type:"text",name:"search",placeholder:"Enter search phrase",className:k}),(0,d.jsx)("button",{type:"submit",className:Z,children:(0,d.jsx)("span",{className:x,children:"Search"})})]})]})})},I=a(269),z=a(148),M=function(){var e=(0,f.useState)([]),n=(0,i.Z)(e,2),a=n[0],c=n[1],m=(0,f.useState)(!1),_=(0,i.Z)(m,2),b=_[0],g=_[1],j=(0,f.useState)(null),N=(0,i.Z)(j,2),x=N[0],k=N[1],Z=(0,h.lr)(),y=(0,i.Z)(Z,2),M=y[0],w=y[1],J=M.get("search"),U=M.get("page");(0,f.useEffect)((function(){var e=function(){var e=(0,r.Z)(s().mark((function e(){var n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,(0,z.z1)(J,U);case 4:n=e.sent,a=n.data,c((function(e){var n;return null!==(n=a.results)&&void 0!==n&&n.length?[].concat((0,t.Z)(e),(0,t.Z)(a.results)):e})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),k(e.t0.message);case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();J&&e()}),[J,U]);var C=Boolean(a.length),E=Boolean(a.length%20===0);return(0,d.jsxs)("div",{children:[(0,d.jsx)(S,{onSubmit:function(e){var n=e.search;w({search:n,page:1}),c([])}}),x&&(0,d.jsx)("p",{className:l,children:x}),b&&(0,d.jsx)(p.Z,{}),C&&(0,d.jsx)(I.Z,{items:a}),C&&E&&(0,d.jsx)("div",{className:u,children:(0,d.jsx)(v,{className:o,onClick:function(){return w({search:J,page:Number(U)+1})},type:"button",children:"Load more"})})]})}}}]);
//# sourceMappingURL=422.0d1e0adc.chunk.js.map