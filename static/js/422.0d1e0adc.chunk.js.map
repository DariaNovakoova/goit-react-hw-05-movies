{"version":3,"file":"static/js/422.0d1e0adc.chunk.js","mappings":"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","sources":["api/getMovies.js","webpack://react-homework-template/./src/components/Movies/movies.module.css?968c","components/Movies/Movies.jsx","webpack://react-homework-template/./src/pages/MoviesPage/movies-page.module.css?9b57","webpack://react-homework-template/./src/components/Button/button.module.css?6dda","components/Button/Button.jsx","webpack://react-homework-template/./src/components/MoviesSearch/movies-search.module.css?498e","../node_modules/nanoid/url-alphabet/index.js","components/MoviesSearch/MoviesSearch.jsx","../node_modules/nanoid/index.browser.js","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkNGFjNzI1MTA4Mjc2ZDkyM2RlMjQzOTE4NzUwNjJjNSIsInN1YiI6IjY1YjUwMjhhNGYzM2FkMDE3YTBiYTM1MiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.DVikyztACIvDZrPSWL56RBOBtNnjH3jDZKwNSqkZN54',\n  },\n};\n\nexport const getTrending = () => {\n  return instance.get(\n    '/trending/movie/day?language=en-US&api_key=8a820d540ebb6da7f77b0e9a899200aa',\n    options\n  );\n};\n\nexport const getMoviesDetails = id => {\n  return instance.get(\n    `/movie/${id}?language=en-US&api_key=8a820d540ebb6da7f77b0e9a899200aa`,\n    options\n  );\n};\n\nexport const getMoviesCredits = id => {\n  return instance.get(\n    `/movie/${id}/credits?language=en-US&api_key=8a820d540ebb6da7f77b0e9a899200aa`,\n    options\n  );\n};\n\nexport const getMoviesReviews = id => {\n  return instance.get(\n    `/movie/${id}/reviews?language=en-US&api_key=8a820d540ebb6da7f77b0e9a899200aa`,\n    options\n  );\n};\n\nexport const searchMovies = (q, page = 1) => {\n  return instance.get(\n    `/search/movie?query=${q}&include_adult=false&language=en-US&page=${page}&api_key=8a820d540ebb6da7f77b0e9a899200aa`,\n    options\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"movies_container__8AMFc\",\"list\":\"movies_list__qGO0R\"};","import styles from './movies.module.css';\n\nimport { Link, useLocation } from 'react-router-dom';\n\nconst Movies = ({ items }) => {\n  const location = useLocation();\n\n  const elements = items.map(({ id, title }) => (\n    <li key={id} className={styles.item}>\n      <Link\n        className={styles.link}\n        to={`/movies/${id}`}\n        state={{ from: location }}\n      >\n        {title}\n      </Link>\n    </li>\n  ));\n\n  return (\n    <div className={styles.container}>\n      <ul className={styles.list}>{elements}</ul>\n    </div>\n  );\n};\n\nexport default Movies;\n","// extracted by mini-css-extract-plugin\nexport default {\"loadMoreWrapper\":\"movies-page_loadMoreWrapper__df0+F\",\"button\":\"movies-page_button__EA2jv\",\"error\":\"movies-page_error__Pufbs\"};","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"button_btn__HeAxz\"};","import styles from './button.module.css';\n\nconst Button = ({ onClick, type = 'submit', children }) => {\n  return (\n    <button onClick={onClick} type={type} className={styles.btn}>\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nexport default {\"fieldGroup\":\"movies-search_fieldGroup__1EW5T\",\"inputContainer\":\"movies-search_inputContainer__JhFbR\",\"form\":\"movies-search_form__Pkz5R\",\"label\":\"movies-search_label__ToYIm\",\"input\":\"movies-search_input__Q4OPi\",\"button\":\"movies-search_button__5p70E\"};","export const urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\n","import styles from './movies-search.module.css';\nimport { useState, useEffect, useRef, useMemo } from 'react';\nimport { nanoid } from 'nanoid';\n\nconst MoviesSearch = ({ onSubmit }) => {\n  const [state, setState] = useState({\n    search: '',\n  });\n\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, []);\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setState({\n      ...state,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit({ ...state });\n    reset();\n  };\n\n  const reset = () => {\n    setState({\n      search: '',\n    });\n  };\n\n  const searchId = useMemo(() => nanoid(), []);\n\n  return (\n    <form onSubmit={handleSubmit} className={styles.form}>\n      <div className={styles.fieldGroup}>\n        <label htmlFor={searchId}></label>\n        <div className={styles.inputContainer}>\n          <input\n            id={searchId}\n            ref={inputRef}\n            value={state.search}\n            onChange={handleChange}\n            required\n            type=\"text\"\n            name=\"search\"\n            placeholder=\"Enter search phrase\"\n            className={styles.input}\n          />\n          <button type=\"submit\" className={styles.button}>\n            <span className={styles.label}>Search</span>\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n};\n\nexport default MoviesSearch;\n","import { urlAlphabet } from './url-alphabet/index.js'\nexport { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n  while (size--) {\n    id += urlAlphabet[bytes[size] & 63]\n  }\n  return id\n}\n","import styles from './movies-page.module.css';\n\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport Button from 'components/Button/Button';\nimport Loader from 'components/Loader/Loader';\n\nimport MoviesSearch from 'components/MoviesSearch/MoviesSearch';\nimport Movies from 'components/Movies/Movies';\n\nimport { searchMovies } from 'api/getMovies';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const search = searchParams.get('search');\n  const page = searchParams.get('page');\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        setLoading(true);\n        const { data } = await searchMovies(search, page);\n        setMovies(prevMovies =>\n          data.results?.length ? [...prevMovies, ...data.results] : prevMovies\n        );\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (search) {\n      fetchMovies();\n    }\n  }, [search, page]);\n\n  const handleSearch = ({ search }) => {\n    setSearchParams({ search, page: 1 });\n    setMovies([]);\n  };\n\n  const loadMore = () => setSearchParams({ search, page: Number(page) + 1 });\n\n  const isMovies = Boolean(movies.length);\n  const isMoreMovies = Boolean(movies.length % 20 === 0);\n\n  return (\n    <div>\n      <MoviesSearch onSubmit={handleSearch} />\n      {error && <p className={styles.error}>{error}</p>}\n      {loading && <Loader />}\n      {isMovies && <Movies items={movies} />}\n      {isMovies && isMoreMovies && (\n        <div className={styles.loadMoreWrapper}>\n          <Button className={styles.button} onClick={loadMore} type=\"button\">\n            Load more\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["instance","axios","baseURL","options","method","headers","accept","Authorization","getTrending","get","getMoviesDetails","id","concat","getMoviesCredits","getMoviesReviews","searchMovies","q","page","arguments","length","undefined","_ref","items","location","useLocation","elements","map","_ref2","title","_jsx","className","styles","children","Link","to","state","from","onClick","_ref$type","type","urlAlphabet","onSubmit","_useState","useState","search","_useState2","_slicedToArray","setState","inputRef","useRef","useEffect","current","focus","reset","searchId","useMemo","size","bytes","crypto","getRandomValues","Uint8Array","nanoid","e","preventDefault","_objectSpread","_jsxs","htmlFor","ref","value","onChange","target","name","_defineProperty","required","placeholder","movies","setMovies","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","fetchMovies","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$searchMovies","data","_context","prev","next","sent","prevMovies","_data$results","results","_toConsumableArray","t0","message","finish","stop","apply","isMovies","Boolean","isMoreMovies","MoviesSearch","Loader","Movies","Button","Number"],"sourceRoot":""}